% pdf-preamble.tex
%
% This file defines the LaTeX environments used for the PDF output of the exercise sheets.
% It uses the 'mdframed' package to create custom environments for indentation.
%
% - indent-1-sol / indent-2-sol: Used for solution blocks. They have a vertical line 
%   on the left (linewidth=1pt) to visually highlight the solution.
% - indent-1 / indent-2: Used for regular indented content (e.g. sub-tasks). 
%   They provide indentation but NO vertical line (linewidth=0pt).

\usepackage{mdframed}
\usepackage{fancyvrb}
\newlength{\indentframegap}
\setlength{\indentframegap}{0.5em}
\newlength{\subitemalignadjust}
\setlength{\subitemalignadjust}{-2.5pt}
% Reduce code font size in PDF code blocks generated by Pandoc/Quarto.
\AtBeginDocument{\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\},fontsize=\fontsize{9.6pt}{11pt}\selectfont}}
\newmdenv[
  topline=false,
  bottomline=false,
  rightline=false,
  linewidth=1pt,
  linecolor=black,
  leftmargin=\dimexpr\leftmargini-\indentframegap\relax,
  innerleftmargin=\indentframegap,
  innerrightmargin=0pt,
  innertopmargin=0pt,
  innerbottommargin=0pt
]{indent-1-sol}
\newmdenv[
  topline=false,
  bottomline=false,
  rightline=false,
  linewidth=1pt,
  linecolor=black,
  leftmargin=\dimexpr\leftmargini+\leftmarginii-\indentframegap\relax,
  innerleftmargin=\indentframegap,
  innerrightmargin=0pt,
  innertopmargin=0pt,
  innerbottommargin=0pt
]{indent-2-sol}
\newmdenv[
  topline=false,
  bottomline=false,
  rightline=false,
  linewidth=0pt,
  leftmargin=\dimexpr\leftmargini+\leftmarginii\relax,
  innerleftmargin=0pt,
  innerrightmargin=0pt,
  innertopmargin=0pt,
  innerbottommargin=0pt
]{indent-1}
\newmdenv[
  topline=false,
  bottomline=false,
  rightline=false,
  linewidth=0pt,
  leftmargin=\dimexpr\leftmargini+\subitemalignadjust\relax,
  innerleftmargin=0pt,
  innerrightmargin=0pt,
  innertopmargin=0pt,
  innerbottommargin=0pt,
  font={\hangindent=\leftmarginii\hangafter=1\relax}
]{indent-1-subitem}
\newmdenv[
  topline=false,
  bottomline=false,
  rightline=false,
  linewidth=0pt,
  leftmargin=\dimexpr\leftmargini+\leftmarginii+\leftmarginiii\relax,
  innerleftmargin=0pt,
  innerrightmargin=0pt,
  innertopmargin=0pt,
  innerbottommargin=0pt
]{indent-2}
