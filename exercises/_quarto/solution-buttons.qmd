<div style="position: sticky; top: 0; background: white; padding: 10px; border-bottom: 2px solid #ddd; z-index: 1000; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px;">

<script>
function toggleAllSolutions() {
  const allDetails = document.querySelectorAll('details');
  // Check if all are currently open (if any are closed, we'll open all)
  const allOpen = Array.from(allDetails).every(d => d.open);
  const newState = !allOpen;

  allDetails.forEach(d => {
    d.open = newState;
  });

  // Update button text and styling
  const btn = document.getElementById('toggle-solutions-btn');
  if (btn) {
    btn.textContent = newState ? 'Hide All Solutions' : 'Show All Solutions';
    // Change button class: success (green) when hiding, danger (red) when showing
    btn.classList.remove('btn-success', 'btn-danger');
    btn.classList.add(newState ? 'btn-success' : 'btn-danger');
  }
}

function setDefaultLanguage(lang) {
  document.querySelectorAll('.panel-tabset').forEach(tabset => {
    const navLinks = tabset.querySelectorAll('.nav-link, button[data-bs-toggle="tab"], a[data-bs-toggle="tab"]');
    navLinks.forEach(link => {
      const text = link.textContent.trim();
      const isTarget =
        (lang === 'Python' && text.includes('Python')) ||
        (lang === 'R' && text.includes('R') && !text.includes('Python'));
      if (isTarget) {
        if (typeof bootstrap !== 'undefined' && bootstrap.Tab) {
          const tab = new bootstrap.Tab(link);
          tab.show();
        } else if (link.click) {
          link.click();
        }
      }
    });
  });
}
</script>

::: {.content-visible when-profile="solution"}
[Show All Solutions]{.btn .btn-danger .btn-sm role="button" id="toggle-solutions-btn" onclick="toggleAllSolutions()"}
:::

[Only Python]{.btn .btn-primary .btn-sm role="button" onclick="setDefaultLanguage('Python')"} |
[Only R]{.btn .btn-primary .btn-sm role="button" onclick="setDefaultLanguage('R')"}

</div>

